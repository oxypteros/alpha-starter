{{- /*
  Partial: head/favicons.html
  Purpose: Appends user-provided favicons to the `<head>`.

  Behavior:
  - Generates light/dark mode favicons and an Apple Touch Icon from provided 
  PNGs.
  - Links the auto-generated web manifest.
  - Provide default Alpha fallback if icons are not found.

  Note: 
  - Provide `favicon-light.png` and `favicon-dark.png` in `/assets/img/`.
  - Recommended dimensions `512x512px`
  - The webmanifest is generated by a separate template but uses the same source 
  files.

  Repo: https://github.com/oxypteros/alpha
*/}}

{{- $lightIcon := resources.Get "img/favicon-light.png" -}}
{{- $darkIcon := resources.Get "img/favicon-dark.png" -}}
{{- if (and $lightIcon $darkIcon) -}}
  {{- $dark96 := $darkIcon.Resize "96x96" -}}
  {{- $light96 := $lightIcon.Resize "96x96" -}}
  {{- $apple180 := $lightIcon.Resize "180x180" -}}

  <link
    rel="icon"
    href="{{ $dark96.Permalink }}"
    media="(prefers-color-scheme: dark)"
    type="image/png"
    sizes="96x96"
  />
  <link
    rel="icon"
    href="{{ $light96.Permalink }}"
    media="(prefers-color-scheme: light)"
    type="image/png"
    sizes="96x96"
  />
  <link
    rel="apple-touch-icon"
    href="{{ $apple180.Permalink }}"
    sizes="180x180"
  />
{{- else }}
  {{- /* Alpha static fallback */}}
  <link
    rel="icon"
    href="{{ "/alpha/img/favicon.svg" | absURL }}"
    type="image/svg+xml"
    sizes="any"
  />
  <link
    rel="apple-touch-icon"
    href="{{ "/alpha/img/apple-touch-icon.png" | absURL }}"
    sizes="180x180"
  />
{{- end }}
<link rel="manifest" href="{{ "/manifest.webmanifest" | absURL }}" />